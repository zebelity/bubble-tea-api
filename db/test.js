const menuItems = [
  {
  "_id": "64d0e22d5ae605a853639ac9",
  "brandId": "64d0e22d5ae605a853639ac8",
  "brandName": "Chatime",
  "title": "Earl Grey Milky Iced Tea with pearls",
  "img_url": "https://chatime.com.au/wp-content/uploads/sites/6/2017/05/Milky_Earl_Grey.png",
  "detail": "Earl Gray, Pearls",
  "calories": 1490,
  "__v": 0
  },
  {
  "_id": "64d0e53b3f57975589c6008d",
  "brandId": "64d0e53b3f57975589c6008c",
  "brandName": "Coco Milktea",
  "title": "SIGNATURE BUBBLE TEA",
  "img_url": "https://images.squarespace-cdn.com/content/v1/5edfb8e7559cd9129deae815/1607613477111-LI9B5JPKPSZDAH7TJE0C/Signature+Bubble+Tea?format=2500w",
  "detail": "Our signature CoCo milk tea with sweet chewy tapioca.",
  "calories": 2736,
  "__v": 0
  },
  {
  "_id": "64d0e5be1930a1c46219dcec",
  "brandId": "64d0e53b3f57975589c6008c",
  "brandName": "Coco Milktea",
  "title": "QQ MILK TEA",
  "img_url": "https://images.squarespace-cdn.com/content/v1/5edfb8e7559cd9129deae815/1629474142842-B268HL3JVUYQ4P0J9L7T/QQ+milk+tea.png?format=2500w",
  "detail": "Our signature CoCo milk tea with QQ: Taro bubble & Sweet potato bubble.",
  "calories": 2707,
  "__v": 0
  },
  {
  "_id": "64d0e771cfc9d02766ba5687",
  "brandId": "64d0e771cfc9d02766ba5686",
  "brandName": "Sharetea",
  "title": "Tiger Milk Tea",
  "img_url": "https://b1388612.smushcdn.com/1388612/wp-content/uploads/2022/10/Tiger-no-logo-wrap_-1.png?lossy=1&strip=1&webp=1",
  "detail": "Sharetea Australia’s famous brown sugar syrup Tiger Tea, and the number 1 selling drink on our bubble tea menu. It’s the ultimate sweet indulgence.",
  "calories": 2092,
  "__v": 0
  },
  {
  "_id": "64d0e7c8f384de3ceb1e94dc",
  "brandId": "64d0e771cfc9d02766ba5686",
  "brandName": "Sharetea",
  "title": "DALGONA Chocolate Milk Tea",
  "img_url": "https://b1388612.smushcdn.com/1388612/wp-content/uploads/2023/08/Dalgona.png?lossy=1&strip=1&webp=1",
  "detail": "The 2020 viral trend is here to stay! Choose from the much loved Dalgona drinks in 3 varieties.",
  "calories": 1036,
  "__v": 0
  },
  {
  "_id": "64d0e89ffe85cf0246c16f48",
  "brandId": "64d0e89ffe85cf0246c16f47",
  "brandName": "Gong Cha",
  "title": "Earl Grey Milk Tea with 3Js",
  "img_url": "https://gongcha.co.nz/images/website_thumbnail/1/a7866ce46f1f2f1cf365e69887d3de63.jpg",
  "detail": "Earl Gray, Pearls, Herbal Jelly, Egg Pudding",
  "calories": 1814,
  "__v": 0
  },
  {
  "_id": "64d0e952adff716c772c346e",
  "brandId": "64d0e89ffe85cf0246c16f47",
  "brandName": "Gong Cha",
  "title": "Matcha Red Bean",
  "img_url": "https://gong-cha.ca/wp-content/uploads/2020/06/Matcha-Milk-Tea-with-Red-Bean.png.webp",
  "detail": "Matcha, Red bean",
  "calories": 1678,
  "__v": 0
  },
  {
  "_id": "64d1843e9bf210d88b7a6830",
  "brandId": "64d0e22d5ae605a853639ac8",
  "brandName": "Chatime",
  "title": "Taro Milky Iced Tea",
  "img_url": "https://chatime.com.au/wp-content/uploads/sites/6/2017/05/Milky_Taro.png",
  "detail": "Taro and milk tea",
  "calories": 2204,
  "__v": 0
  },
  {
  "_id": "64d185016fab14953c90613e",
  "brandId": "64d0e22d5ae605a853639ac8",
  "brandName": "Chatime",
  "title": "Matcha Latte Milky Iced Tea",
  "img_url": "https://chatime.com.au/wp-content/uploads/sites/6/2017/05/Milky_Matcha.png",
  "detail": "Matcha, redbean",
  "calories": 1049,
  "__v": 0
  },
  {
  "_id": "64d1858500113cdf48ad6419",
  "brandId": "64d0e22d5ae605a853639ac8",
  "brandName": "Chatime",
  "title": "Chocolate Milky Iced Tea",
  "img_url": "https://chatime.com.au/wp-content/uploads/sites/6/2017/05/Milky_Chocolate.png",
  "detail": "Chocolate, Pearls",
  "calories": 2160,
  "__v": 0
  },
  {
  "_id": "64d185dc5e64125feb8f942f",
  "brandId": "64d0e22d5ae605a853639ac8",
  "brandName": "Chatime",
  "title": "Premium Pearl Milky Iced Tea",
  "img_url": "https://chatime.com.au/wp-content/uploads/sites/6/2017/05/Milky_Premium_Pearl.png",
  "detail": "Milk tea, Pearls",
  "calories": 1996,
  "__v": 0
  },
  {
  "_id": "64d186745924cd33bbf01e84",
  "brandId": "64d0e22d5ae605a853639ac8",
  "brandName": "Chatime",
  "title": "Apple Fruity Iced Green Tea",
  "img_url": "https://chatime.com.au/wp-content/uploads/sites/6/2017/05/Fruity_Green-_Apple.png",
  "detail": "Apple syrup, popping pearls",
  "calories": 898,
  "__v": 0
  },
  {
  "_id": "64d186e1791dde9f79547f7f",
  "brandId": "64d0e22d5ae605a853639ac8",
  "brandName": "Chatime",
  "title": "Lemon Fruity Iced Green Tea",
  "img_url": "https://chatime.com.au/wp-content/uploads/sites/6/2017/05/Fruity_Green_Lemon-.png",
  "detail": "Lemon, Aloe Vera",
  "calories": 1155,
  "__v": 0
  },
  {
  "_id": "64d1876e6f29908edd64c125",
  "brandId": "64d0e22d5ae605a853639ac8",
  "brandName": "Chatime",
  "title": "Strawberry Fruity Iced Black Tea",
  "img_url": "https://chatime.com.au/wp-content/uploads/sites/6/2017/05/Fruity_Black_Strawberry-copy.png",
  "detail": "Strawberry syrup, black tea, rainbow jelly",
  "calories": 1188,
  "__v": 0
  },
  {
  "_id": "64d187fd5b89bf6e468d0803",
  "brandId": "64d0e22d5ae605a853639ac8",
  "brandName": "Chatime",
  "title": "Tropical Fruity Iced Green Tea",
  "img_url": "https://chatime.com.au/wp-content/uploads/sites/6/2017/05/Fruity_Green_Tropical.png",
  "detail": "passion fruit syrup, pineapple syrup, orange juice, green tea, rainbow jelly",
  "calories": 1254,
  "__v": 0
  },
  ]

  require("dotenv").config();
  require('./index.js')

  const Brand = require('../models/brand.js');
  const MenuItem = require('../models/menuItem.js');

  async function deleteAll () {
    await MenuItem.deleteMany({})
    .then(result => {
      console.log(`Deleted ${result.deletedCount} menu items.`);
    })
    .catch(error => {
      console.error('Error deleting menu items:', error);
    });
  }

  async function createMenuItem (menuItem) {
    const { brandName, ...menuItemData } = menuItem

    let brand = await Brand.findOne({ name: brandName })

    if (!brand) {
      brand = new Brand({ name: brandName })
      await brand.save()
    }

    menuItemData.brandId = brand._id

    const newMenuItem = new MenuItem(menuItemData)

    await newMenuItem.save()

    console.log('yay')
  }

  async function createMenuItems () {
    await deleteAll()

    for (const menuItem of menuItems) {
      await createMenuItem(menuItem)
    }
  }

  createMenuItems()
    .then(() => console.log('done'))
    .catch(err => console.error(err))

//Chatime id= "64d1a84ceed4e5989094b232"
//Coco id ="64d0e53b3f57975589c6008c"
//Sharetea id ="64d0e771cfc9d02766ba5686"
//Gong Cha id="64d0e89ffe85cf0246c16f47"